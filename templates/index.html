<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hesap GÃ¼nÃ¼ - Alman UsulÃ¼</title>
    <style>
        body { font-family: sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f4f4f9; }
        .container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #333; }
        .kisi-satir { display: flex; gap: 10px; margin-bottom: 10px; }
        input { padding: 8px; border: 1px solid #ddd; border-radius: 4px; flex: 1; }
       button {
    padding: 10px;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    width: 100%;
    font-size: 16px;
    margin-bottom: 10px; /* <--- YENÄ° EKLEME: AltÄ±na 10px boÅŸluk bÄ±rakÄ±r */
}
        button:hover { background-color: #218838; }
        .sonuc-kutusu { margin-top: 20px; padding: 15px; background-color: #e9ecef; border-left: 5px solid #28a745; }
        .hata { color: red; text-align: center; margin-bottom: 10px; }
        .ekle-btn { background-color: #007bff; margin-bottom: 15px; }
        .ekle-btn:hover { background-color: #0069d9; }
    </style>
</head>
<body>

<div class="container">
    <h1>ðŸ’¸ Hesap GÃ¼nÃ¼</h1>
    
    {% if hata %}
        <div class="hata">{{ hata }}</div>
    {% endif %}

    <form method="POST">
        <div id="kisi-listesi">
            <div class="kisi-satir"><input type="text" name="isim[]" placeholder="Ä°sim (Ã–rn: Vedat)" required><input type="number" step="0.01" name="harcama[]" placeholder="HarcadÄ±ÄŸÄ± Tutar (TL)" required></div>
            <div class="kisi-satir"><input type="text" name="isim[]" placeholder="Ä°sim (Ã–rn: Fatih)"><input type="number" step="0.01" name="harcama[]" placeholder="HarcadÄ±ÄŸÄ± Tutar (TL)"></div>
            <div class="kisi-satir"><input type="text" name="isim[]" placeholder="Ä°sim (Ã–rn: Åžahin)"><input type="number" step="0.01" name="harcama[]" placeholder="HarcadÄ±ÄŸÄ± Tutar (TL)"></div>
            <div class="kisi-satir"><input type="text" name="isim[]" placeholder="Ä°sim (Ã–rn: Yusuf)"><input type="number" step="0.01" name="harcama[]" placeholder="HarcadÄ±ÄŸÄ± Tutar (TL)"></div>
        </div>

        <button type="button" class="ekle-btn" onclick="kisiEkle()">+ KiÅŸi Ekle</button>
        <button type="submit">HESAPLARI DENKLEÅžTÄ°R</button>
        <button type="button" onclick="temizle()"> SIFIRLA </button>
    </form>

    {% if sonuclar %}
    <div class="sonuc-kutusu">
        <h3>SonuÃ§lar:</h3>
        <ul>
            {% for islem in sonuclar %}
                <li>{{ islem }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>

<script>
    function kisiEkle() {
        var div = document.createElement("div");
        div.className = "kisi-satir";
        div.innerHTML = '<input type="text" name="isim[]" placeholder="Ä°sim"><input type="number" step="0.01" name="harcama[]" placeholder="HarcadÄ±ÄŸÄ± Tutar (TL)">';
        document.getElementById("kisi-listesi").appendChild(div);
    }
function temizle() {
    // 1. Ã–nce kapsayÄ±cÄ± kutuyu (id="kisi-listesi") buluyoruz
    var liste = document.getElementById("kisi-listesi");
    
    // 2. Bu kutunun iÃ§indeki tÃ¼m satÄ±rlarÄ± (class="kisi-satir") topluyoruz
    var satirlar = liste.getElementsByClassName("kisi-satir");

    // 3. DÃ¶ngÃ¼yle her satÄ±rÄ± tek tek geziyoruz
    for (var i = 0; i < satirlar.length; i++) {
        // Her satÄ±rÄ±n iÃ§indeki input etiketlerini buluyoruz
        var kutular = satirlar[i].getElementsByTagName("input");
        
        // kutular[0] -> Ä°sim kutusu
        // kutular[1] -> Harcama kutusu
        
        kutular[0].value = ""; // Ä°smi sil
        
        // Hata almamak iÃ§in kontrol: O satÄ±rda 2. kutu var mÄ±?
        if (kutular[1]) {
            kutular[1].value = ""; // ParayÄ± sil
        }
    }
}
    
</script>

</body>
</html>